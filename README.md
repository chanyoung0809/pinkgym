# 🏋️‍♀️ Pink Lady Gym - 여성 전용 헬스장 커뮤니티 사이트
회원 전용 커뮤니티 기능과 관리자 기능을 포함하여, 사용자 역할에 따라 동적인 화면을 제공하는 가상의 여성 전용 헬스장 웹사이트입니다.

## 📌 1. 프로젝트 소개
- 헬스장 회원이라는 특정 사용자 그룹을 대상으로 소통과 정보 공유가 가능한 커뮤니티 웹사이트를 기획했습니다. 일반 방문자와 회원, 그리고 관리자에게 각각 다른 메뉴와 접근 권한을 부여하는 **역할 기반 접근 제어(Role-Based Access Control)**를 핵심 기능으로, 사용자 역할에 따른 동적인 웹 환경을 구현하는 데 중점을 두었습니다.

- 이 프로젝트를 통해 데이터의 관계를 설계하고, 복잡한 계층 구조를 가진 데이터를 다루는 경험을 하며 데이터베이스 스키마 설계의 중요성을 깊이 있게 학습할 수 있었습니다.

## ✨ 2. 주요 기능
- 역할 기반 접근 제어(RBAC): 사용자의 역할(비회원, 회원, 관리자)에 따라 접근할 수 있는 페이지와 기능을 다르게 설정했습니다. 마이페이지에서 관리자는 모든 회원의 '무료체험 신청 현황'을 볼 수 있지만, 일반 회원은 자신의 정보만 볼 수 있습니다.

- 회원 전용 커뮤니티 게시판: 회원으로 로그인해야만 접근 가능하며, 게시글 및 댓글/대댓글의 CRUD(생성, 읽기, 수정, 삭제) 기능을 통해 자유로운 소통이 가능합니다.

- 외부 API 연동: 카카오 지도 API를 활용하여 각 헬스장 지점의 위치를 지도에 표시합니다.

## 🛠️ 3. 사용 기술
- Frontend: JavaScript (ES6+), HTML5, CSS3, SCSS

- Backend: Node.js, Express.js

- Database: MongoDB, MariaDB

- Deployment: Google Cloud Platform (GCP)

- APIs & Libraries: Kakao Maps API, Passport.js, Multer, Swiper.js

- Version Control: Git, GitHub

## 🤯 4. 어려웠던 점 및 해결 과정
### Challenge: 효율적인 대댓글 기능 구현을 위한 DB 스키마 설계
- 문제 상황:
하나의 게시글에 여러 댓글이, 그리고 각 댓글에 여러 대댓글이 달리는 중첩 구조를 어떻게 데이터베이스에 효율적으로 저장하고, 정확하게 불러올지 구조를 설계하는 데 어려움이 있었습니다. 처음에는 각 데이터를 별도의 컬렉션으로 만들고 복잡한 식별자로 연결하려 했지만, 쿼리가 복잡해지고 확장성이 떨어지는 문제가 있었습니다.

- 해결 과정:
문제를 해결하기 위해 관계형 데이터베이스의 외래 키 개념을 MongoDB에 적용해보기로 했습니다. 댓글 스키마 내에 **parentCommentId**라는 필드를 추가하여, 어떤 댓글에 속한 대댓글인지를 명시적으로 나타내는 계층 구조를 만들었습니다. 이를 통해 특정 게시물의 모든 댓글과 대댓글을 한 번의 쿼리로 가져온 후, 애플리케이션 단에서 부모-자식 관계를 재귀적으로 구성하여 화면에 올바르게 표시할 수 있었습니다. index.js에서 MongoDB의 $push, $pull 연산자를 사용하여 이 중첩 배열(nested array)을 효과적으로 관리했습니다.

- 배운 점:
이 경험을 통해 효율적인 데이터베이스 스키마 설계의 중요성을 깨달았습니다. 단순히 기능을 구현하는 것을 넘어, 데이터의 관계를 깊이 고민하고 모델링하는 것이 확장성 있고 유지보수하기 좋은 애플리케이션의 핵심임을 배웠습니다. 이 경험은 훗날 제가 대규모 데이터를 다루는 데이터 엔지니어링에 관심을 두게 된 밑거름이 되었습니다.

## 📸 5. 결과물 (Screenshots)
- 메인 페이지

- 프로그램 소개

  - 헬스장의 주요 정보와 가치를 전달합니다.

  - 제공하는 운동 프로그램을 상세히 소개합니다.

- 회원 전용 게시판

  - 게시글 상세 (댓글/대댓글)

    - 회원만 접근하여 글을 작성하고 볼 수 있습니다.

    - 계층 구조로 설계된 댓글 및 대댓글 기능을 구현했습니다.
